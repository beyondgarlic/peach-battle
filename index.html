<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>제1회 의성장날 천하제일 복숭아 대전</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <main id="container">
        <section id="start-page">
            <h1 class="title">제1회 의성장날<br>천하제일 복숭아 대전</h1>
            <p class="description">
                당신의 10초가 세상을 바꾼다!<br>
                진영을 선택하고 당신의 복숭아력을 증명하세요!
            </p>
            <div class="faction-selector">
                <div class="faction-card soft" onclick="chooseFaction('soft')">
                    <h2>과즙팡팡 물복파</h2>
                    <img src="./img/mascot_soft.png" alt="물복파 마스코트">
                    <button class="btn-select">이 진영으로 참전</button>
                </div>
                <div class="faction-card hard" onclick="chooseFaction('hard')">
                    <h2>아삭단단 딱복군</h2>
                    <img src="./img/mascot_hard.png" alt="딱복군 마스코트">
                    <button class="btn-select">이 진영으로 참전</button>
                </div>
            </div>
        </section>

        <section id="game-page">
            <div class="game-ui">
                <div class="ui-item">
                    <span class="ui-label">남은시간</span>
                    <span id="timer" class="ui-value">10.0</span>
                </div>
                <div class="ui-item">
                    <span class="ui-label">나의 복숭아력</span>
                    <span id="score" class="ui-value">0</span>
                </div>
            </div>
            <div id="fever-gauge-bar">
                <div id="fever-gauge"></div>
            </div>
            <p class="instruction-text">👇 아래 복숭아를 마구 탭(클릭)하세요! 👇</p>
            <div id="peach-button-container">
                <button id="peach-button">🍑</button>
                <div id="fever-text">FEVER TIME!</div>
            </div>
        </section>

        <section id="result-page">
            <h2 id="result-rank" class="result-rank">결과 등급</h2>
            <p class="result-score-text">
                당신의 복숭아력은 <span id="final-score">0</span>점 입니다!
            </p>
            <p id="contribution-text" class="result-desc"></p>
            
            <div class="team-scores">
              <div class="team-score soft-team">
                <h3>🍑 과즙팡팡 물복파 🍑</h3>
                <p id="soft-score-total">0</p>
              </div>
              <div class="team-score hard-team">
                <h3>🍑 아삭단단 딱복군 🍑</h3>
                <p id="hard-score-total">0</p>
              </div>
            </div>
            
            <div class="result-buttons">
                <button class="btn-restart" onclick="restart()">랭킹 1위 재도전!</button>
                <button class="btn-action" onclick="goToShop()">의성장날 복숭아 구경하기</button>
            </div>
        </section>
    </main>
    <script src="script.js"></script>
    <script>
        // 더블탭 확대 방지
        document.addEventListener('touchstart', function (event) {
            if (event.touches.length > 1) {
            event.preventDefault(); // 두 손가락 확대 방지
            }
        }, { passive: false });

        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
            event.preventDefault(); // 더블탭 확대 방지
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>